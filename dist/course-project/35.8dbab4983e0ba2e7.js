"use strict";(self.webpackChunkcourse_project=self.webpackChunkcourse_project||[]).push([[35],{3035:(w,d,l)=>{l.r(d),l.d(d,{AuthModule:()=>M});var g=l(6895),c=l(4719),p=l(3510),m=l(4466),n=l(6738);let h=(()=>{class t{constructor(){this.close=new n.vpe}onClose(){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-alert"]],inputs:{message:"message"},outputs:{close:"close"},decls:7,vars:1,consts:[[1,"backdrop",3,"click"],[1,"alert-box"],[1,"alert-box-actions"],[1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0),n.NdJ("click",function(){return o.onClose()}),n.qZA(),n.TgZ(1,"div",1)(2,"p"),n._uU(3),n.qZA(),n.TgZ(4,"div",2)(5,"button",3),n.NdJ("click",function(){return o.onClose()}),n._uU(6,"Close"),n.qZA()()()),2&e&&(n.xp6(3),n.Oqu(o.message))},styles:[".backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background:rgba(0,0,0,.75);z-index:50}.alert-box[_ngcontent-%COMP%]{position:fixed;top:30vh;left:20vw;width:60vw;padding:16px;z-index:100;background:white;box-shadow:0 2px 8px #00000042}.alert-box-actions[_ngcontent-%COMP%]{text-align:right}"]}),t})(),u=(()=>{class t{constructor(e){this.viewContainerRef=e}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(n.s_b))},t.\u0275dir=n.lG2({type:t,selectors:[["","appPlaceholder",""]]}),t})();var f=l(5599);let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-loading-spinner"]],decls:14,vars:0,consts:[[1,"loadingio-spinner-spinner-lllgnjtx3a"],[1,"ldio-2gcvlwyp2yi"]],template:function(e,o){1&e&&(n.TgZ(0,"div",0)(1,"div",1),n._UZ(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div")(10,"div")(11,"div")(12,"div")(13,"div"),n.qZA()())},styles:["@keyframes ldio-2gcvlwyp2yi {\n  0% { opacity: 1 }\n  100% { opacity: 0 }\n}\n.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] {\n  left: 94px;\n  top: 48px;\n  position: absolute;\n  animation: ldio-2gcvlwyp2yi linear 1s infinite;\n  background: #fe718d;\n  width: 12px;\n  height: 24px;\n  border-radius: 6px / 12px;\n  transform-origin: 6px 52px;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1) {\n  transform: rotate(0deg);\n  animation-delay: -0.9166666666666666s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2) {\n  transform: rotate(30deg);\n  animation-delay: -0.8333333333333334s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3) {\n  transform: rotate(60deg);\n  animation-delay: -0.75s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4) {\n  transform: rotate(90deg);\n  animation-delay: -0.6666666666666666s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5) {\n  transform: rotate(120deg);\n  animation-delay: -0.5833333333333334s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6) {\n  transform: rotate(150deg);\n  animation-delay: -0.5s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7) {\n  transform: rotate(180deg);\n  animation-delay: -0.4166666666666667s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8) {\n  transform: rotate(210deg);\n  animation-delay: -0.3333333333333333s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(9) {\n  transform: rotate(240deg);\n  animation-delay: -0.25s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(10) {\n  transform: rotate(270deg);\n  animation-delay: -0.16666666666666666s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(11) {\n  transform: rotate(300deg);\n  animation-delay: -0.08333333333333333s;\n  background: #fe718d;\n}.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(12) {\n  transform: rotate(330deg);\n  animation-delay: 0s;\n  background: #fe718d;\n}\n.loadingio-spinner-spinner-lllgnjtx3a[_ngcontent-%COMP%] {\n  width: 200px;\n  height: 200px;\n  display: inline-block;\n  overflow: hidden;\n  background: #ffffff;\n}\n.ldio-2gcvlwyp2yi[_ngcontent-%COMP%] {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transform: translateZ(0) scale(1);\n  backface-visibility: hidden;\n  transform-origin: 0 0; \n}\n.ldio-2gcvlwyp2yi[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] { box-sizing: content-box; }"]}),t})();function y(t,r){}function C(t,r){1&t&&(n.TgZ(0,"div",5),n._UZ(1,"app-loading-spinner"),n.qZA())}function _(t,r){if(1&t){const e=n.EpF();n.TgZ(0,"form",6,7),n.NdJ("ngSubmit",function(){n.CHM(e);const i=n.MAs(1),a=n.oxw();return n.KtG(a.onSubmit(i))}),n.TgZ(2,"div",8)(3,"label",9),n._uU(4,"E-Mail"),n.qZA(),n._UZ(5,"input",10),n.qZA(),n.TgZ(6,"div",8)(7,"label",9),n._uU(8,"Password"),n.qZA(),n._UZ(9,"input",11),n.qZA(),n.TgZ(10,"div")(11,"button",12),n._uU(12),n.qZA(),n._uU(13," | "),n.TgZ(14,"button",13),n.NdJ("click",function(){n.CHM(e);const i=n.oxw();return n.KtG(i.onSwitchMode())}),n._uU(15),n.qZA()()()}if(2&t){const e=n.MAs(1),o=n.oxw();n.xp6(11),n.Q6J("disabled",!e.valid),n.xp6(1),n.hij(" ",o.isLoginMode?"Login":"Sign Up",""),n.xp6(3),n.hij(" Switch to ",o.isLoginMode?"Sign Up":"Login","")}}let b=(()=>{class t{constructor(e,o,i){this.authService=e,this.router=o,this.componentFactoryResolver=i,this.isLoginMode=!0,this.isLoading=!1,this.error=null}ngOnInit(){}onSwitchMode(){this.isLoginMode=!this.isLoginMode}onSubmit(e){if(!e.valid)return;const o=e.value.email,i=e.value.password;let a;this.isLoading=!0,a=this.isLoginMode?this.authService.login(o,i):this.authService.signUp(o,i),a.subscribe(s=>{console.log(s),this.isLoading=!1,this.router.navigate(["/recipes"])},s=>{console.log(s),this.error=s,this.showErrorAlert(s),this.isLoading=!1}),e.reset()}onHandleError(){this.error=null}showErrorAlert(e){const o=this.componentFactoryResolver.resolveComponentFactory(h),i=this.alertHost.viewContainerRef;i.clear();const a=i.createComponent(o);a.instance.message=e,this.closeSub=a.instance.close.subscribe(()=>{this.closeSub.unsubscribe(),i.clear()})}ngOnDestroy(){this.closeSub&&this.closeSub.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(n.Y36(f.e),n.Y36(p.F0),n.Y36(n._Vd))},t.\u0275cmp=n.Xpm({type:t,selectors:[["app-auth"]],viewQuery:function(e,o){if(1&e&&n.Gf(u,5),2&e){let i;n.iGM(i=n.CRH())&&(o.alertHost=i.first)}},decls:5,vars:2,consts:[["appPlaceholder",""],[1,"row"],[1,"col-xs-12","col-md-6","col-md-offset-3"],["style","text-align:center",4,"ngIf"],[3,"ngSubmit",4,"ngIf"],[2,"text-align","center"],[3,"ngSubmit"],["authForm","ngForm"],[1,"form-group"],["for","email"],["type","email","id","email","ngModel","","name","email","required","","email","",1,"form-control"],["type","password","id","password","ngModel","","name","password","required","","minlength","6",1,"form-control"],["type","submit",1,"btn","btn-primary",3,"disabled"],["type","button",1,"btn","btn-primary",3,"click"]],template:function(e,o){1&e&&(n.YNc(0,y,0,0,"ng-template",0),n.TgZ(1,"div",1)(2,"div",2),n.YNc(3,C,2,0,"div",3),n.YNc(4,_,16,3,"form",4),n.qZA()()),2&e&&(n.xp6(3),n.Q6J("ngIf",o.isLoading),n.xp6(1),n.Q6J("ngIf",!o.isLoading))},dependencies:[g.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.wO,c.on,c.On,c.F,v,u]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=n.oAB({type:t}),t.\u0275inj=n.cJS({imports:[g.ez,c.u5,p.Bz.forChild([{path:"",component:b}]),m.m]}),t})()}}]);